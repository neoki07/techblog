---
title: 個人開発サイトのStorybookをChromaticで公開してみました
description: 現在、Web開発の学習のためにショッピングサイトを作成しています。今回、Storybookのコアメンテナが開発しているChromaticを使うことで簡単にStorybookを公開できることを知り、公式感のあるサービスということもあって早速試してみました。
date: October 9th, 2023
---

import Date from 'components/date'

# 個人開発サイトのStorybookをChromaticで公開してみました

<Date date="October 9th, 2023" />

現在、Web開発の学習のために[ショッピングサイト](https://next-bazaar.vercel.app/)を作成しています。フロントエンドの共通コンポーネントを[Storybook](https://storybook.js.org/)で管理しており、以前からせっかくなので公開したいなという気持ちがありました。今回、Storybookのコアメンテナが開発している[Chromatic](https://www.chromatic.com/)を使うことで簡単にStorybookを公開できることを知り、公式感のあるサービスということもあって早速試してみました。

> Chromaticには、チームでUIのフィードバックを行うための様々な機能があるようですが、今回はStorybookを公開するためだけに使っています

## ChromaticでStorybookを公開する

ChromaticでStorybookを公開する方法は、以下のドキュメントを参考にしました。

- https://www.chromatic.com/docs/setup/
- https://www.chromatic.com/docs/github-actions/#support-for-actions-checkout-v2-and-above

最初のデプロイをしてみると、Chromatic上では以下のページが表示されました。

<div align="center" style={{ marginTop: "1rem" }}>
  <img src="/chromatic/first-build.png" alt="First Build" width="80%" />
</div>

肝心のStorybookはどこから確認できるのか少し迷いましたが、下にスクロールしていくとリンクがありました。

<div align="center" style={{ marginTop: "1rem" }}>
  <img src="/chromatic/storybook-link.png" alt="Storybook Link" width="80%" />
</div>

リンクをクリックすると、Storybookが表示されました🥳

<div align="center" style={{ marginTop: "1rem" }}>
  <img src="/chromatic/storybook.png" alt="Storybook" width="80%" />
</div>

## `main`ブランチの最新のStorybookのURLを取得する

最後に、GitHubリポジトリの`README.md`にStorybookのリンクを追加しようと思ったのですが、ここで問題が1つありました。それは、デプロイごとにStorybookのURLが変わってしまうことです。

- 1回目のURL: https://65224f832ec3028e25f863e1-tqszkkyisb.chromatic.com/
- 2回目のURL: https://65224f832ec3028e25f863e1-sxmowkoksw.chromatic.com/

出来れば、`README.md`には`main`ブランチの最新のURLを追加したいのですが、このままでは`README.md`を毎回更新する必要があります。

何か情報がないかとChromaticのドキュメントを調べてみると、[GitHub Actionsの設定方法のページ](https://www.chromatic.com/docs/github-actions/#outputs)にヒントがありました。

<div align="center" style={{ marginTop: "1rem" }}>
  <img src="/chromatic/latest-storybook-url.png" alt="Storybook" width="80%" />
</div>

どうやら、`https://<ブランチ名>--<プロジェクトID>.chromatic.com`というフォーマットで最新のStorybookのURLを取得できそうです。

早速、以下のURLにアクセスしてみると、Storybookのページが表示されました👏

- https://main--65224f832ec3028e25f863e1.chromatic.com/

